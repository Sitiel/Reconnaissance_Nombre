<html>
    <body>
        <canvas id="canvas" width="300" height="300"></canvas>
        <button onclick="displayNumber()">Add to train</button>
        <button onclick="displayNumber()">try to guess</button>
        <button onclick="clearNumber()">clear</button>
    </body>
</html>
<script>
	number = new Array(6 * 8);
	number.fill(-1, 0);

	var c   = document.getElementById("canvas");
	var ctx = c.getContext("2d");

	var width      = 6;
	var height     = 8;
	var realWidth  = c.width / width;
	var realHeight = c.height / height;

	var down = false;

	c.addEventListener('mousedown', function (event) {
		var totalOffsetX   = 0;
		var totalOffsetY   = 0;
		var canvasX        = 0;
		var canvasY        = 0;
		var currentElement = this;

		do {
			totalOffsetX += currentElement.offsetLeft - currentElement.scrollLeft;
			totalOffsetY += currentElement.offsetTop - currentElement.scrollTop;
		}
		while (currentElement = currentElement.offsetParent);

		canvasX = event.pageX - totalOffsetX;
		canvasY = event.pageY - totalOffsetY;

		var i = parseInt(canvasY / realHeight);
		var j = parseInt(canvasX / realWidth);
		if (number[j + i * 6] === 1) {
			number[j + i * 6] = -1;
			draw();
		}
		else {
			ctx.fillStyle = "#000000";
			ctx.fillRect(j * realWidth, i * realHeight, realWidth, realHeight);
			number[j + i * 6] = 1;
			down              = true;
		}


	}, false);

	c.addEventListener('mousemove', function (event) {
		if (down) {
			var totalOffsetX   = 0;
			var totalOffsetY   = 0;
			var canvasX        = 0;
			var canvasY        = 0;
			var currentElement = this;

			do {
				totalOffsetX += currentElement.offsetLeft - currentElement.scrollLeft;
				totalOffsetY += currentElement.offsetTop - currentElement.scrollTop;
			}
			while (currentElement = currentElement.offsetParent);

			canvasX = event.pageX - totalOffsetX;
			canvasY = event.pageY - totalOffsetY;

			number[parseInt(canvasX / realWidth) + parseInt(canvasY / realHeight) * 6] = 1;
			var i                                                                      = parseInt(canvasY / realHeight);
			var j                                                                      = parseInt(canvasX / realWidth);
			ctx.fillStyle                                                              = "#000000";
			ctx.fillRect(j * realWidth, i * realHeight, realWidth, realHeight);
		}
	}, false);

	c.addEventListener('mouseup', function (event) {
		down = false;
	}, false);

	function draw() {
		for (var i = 0; i < 8; i++) {
			for (var j = 0; j < 6; j++) {

				if (number[i * 6 + j] === 1) {
					ctx.fillStyle = "#000000";
					ctx.fillRect(j * realWidth, i * realHeight, realWidth, realHeight);
				}
				else {
					ctx.fillStyle = "#FFFFFF";
					ctx.fillRect(j * realWidth, i * realHeight, realWidth, realHeight);
				}

				ctx.moveTo(j * realWidth, 0);
				ctx.lineTo(j * realWidth, c.height);
				ctx.stroke();

				ctx.moveTo(j * realWidth + realWidth, 0);
				ctx.lineTo(j * realWidth + realWidth, c.height);
				ctx.stroke();

				ctx.moveTo(0, i * realHeight);
				ctx.lineTo(c.width, i * realHeight);
				ctx.stroke();

				ctx.moveTo(0, i * realHeight + realHeight);
				ctx.lineTo(c.width, i * realHeight + realHeight);
				ctx.stroke();

			}
		}
	}

	function displayNumber() {
		alert("Number : " + number.toString());
	}

	function clearNumber() {
		number.fill(-1, 0);
		draw();
	}

	draw();
</script>